:root{
  --bg:#0f1115; --fg:#eef1f5; --muted:#9aa4b2; --card:#141824; --grid:#2a2f3a;
  --primary:#8ab4ff; --accent:#ffcc66; --good:#7ed957; --warn:#ff9f43; --bad:#ff6b6b;
  --font: 'Noto Sans TC', system-ui, -apple-system, Segoe UI, Roboto, 'PingFang TC', 'Microsoft JhengHei', sans-serif;
}
*{box-sizing:border-box}
html,body{height:100%; margin:0; background:var(--bg); color:var(--fg); font-family:var(--font);}
.hidden{display:none}
.muted{color:var(--muted)}
.app-shell{display:grid; grid-template-columns: 320px 1fr; grid-template-rows: 56px 1fr; height:100%}
.topbar{grid-column:1/3; display:flex; align-items:center; justify-content:space-between; padding:8px 16px; background:#0b0d11; border-bottom:1px solid var(--grid)}
.brand{font-weight:700}
.actions{display:flex; gap:8px; align-items:center}
.btn{background:#1b2130; color:#dfe7ff; border:1px solid #2b3245; padding:6px 10px; border-radius:8px; cursor:pointer}
.btn.primary{background:#29417a; border-color:#355297}
.menu .menu-body{position:absolute; right:0; top:100%; background:#0f1320; border:1px solid var(--grid); padding:8px; border-radius:8px; width:220px}
.sidebar{border-right:1px solid var(--grid); padding:16px; overflow:auto}
.sidebar .field{display:flex; flex-direction:column; gap:6px; margin-bottom:12px}
.sidebar input, .sidebar select{background:#0f1320; color:var(--fg); border:1px solid var(--grid); border-radius:8px; padding:8px}
.divider{height:1px; background:var(--grid); margin:16px 0}
.hint{color:var(--muted)}
.board-wrap{padding:12px; overflow:auto}
.board{display:grid; grid-template-columns: repeat(4, minmax(220px, 1fr)); gap:10px}
.cell{background:var(--card); border:1px solid var(--grid); border-radius:12px; padding:10px; position:relative; min-height:160px}
.cell .title{font-size:14px; color:var(--muted); margin-bottom:4px; display:flex; justify-content:space-between}
.cell .stars{display:flex; flex-wrap:wrap; gap:6px}
.tag{font-size:12px; padding:2px 6px; border-radius:999px; border:1px solid #3b4154; background:#0c1020}
.tag.major{border-color:#5b74ff; background:#0d1330}
.tag.aux{border-color:#3a3f52}
.badge{font-size:11px; border:1px solid var(--grid); padding:0 6px; border-radius:6px; margin-left:6px}
.status{padding:8px; color:var(--muted)}
@media (max-width: 1200px){
  .app-shell{grid-template-columns: 280px 1fr}
  .board{grid-template-columns: repeat(3, 1fr)}
}
@media (max-width: 900px){
  .app-shell{grid-template-columns: 1fr; grid-template-rows: 56px auto auto}
  .sidebar{grid-column:1/3}
  .board{grid-template-columns: repeat(2, 1fr)}
}
